# VRC-PhantomSystem
PhantomSystem是一款用于在VRChat模型中简单地添加一个跟随本体动作的分身模型的工具。

## ✨功能特色
- 一键配置：无需复杂的操作流程，准备好模型后一键自动配置。
- 多种分身控制：可以控制分身在生成后停留在原地或是和你一起移动，当然也可以直接抓取分身来改变位置。分身静止选项也可以随时让分身冻结在当前姿势。
- 分身表情菜单：独立控制的分身表情菜单，让分身也能更换衣服，甚至开启一些小功能。
- [Modular Avatar](https://github.com/bdunderscore/modular-avatar) 适配：分身模型可以自由添加大多数使用MA组件的物品。
- 分身视角：可以打开一个能看到分身视角的屏幕，随时看到分身周围情况。

## 📦软件依赖
在导入该工具前，请确保以下内容正确安装：
1. Unity 2022.3.22f1
2. VRChat SDK (在该文档编辑时使用的版本为3.10.1)
3. [Modular Avatar](https://github.com/bdunderscore/modular-avatar) (在该文档编辑时使用的版本为1.15.1)

## 🚀快速开始
1. 准备好一个基础模型和准备作为分身的分身模型（最好与基础模型身体相同或相似）
2. 在顶部菜单中选择 `MPCCT -> PhantomSystemSetup`
3. 将准备好的模型拖入 **基础模型** 和 **分身模型** 中
4. 点击 **开始配置！**

## ⚠️注意事项
- 若不想分身模型和原本模型在某些MA组件上参数同步，可以勾选 **重命名分身模型的参数** 选项。
- 注意配置好后的模型整体参数数量、动骨（`PhysBones`）数量等限制以防无法上传模型。
- 不建议在分身模型中添加任何骨骼动画相关的组件，以及任何在动画控制器中使用了 `VRC Tracking Control`的组件。
    - 例如，分身模型上并不支持 [GoGoLoco](https://booth.pm/items/3290806) 和 [AvatarPoseLibrary](https://github.com/HhotateA/AvatarPoseLibrary) 这类会控制模型动作的插件。
- 开启分身模型基本上会有着相当于两套模型的负载，关闭分身模型后FX动画层也相较常规模型更多。请注意使用。

## ❓常见问题
- **如何删除配置好的PhantomSystem**：
  - 删除模型中的`PhantomSystem`对象即可。
- **开启分身后分身身体扭曲**：
  - 分身模型的骨骼可能和基础模型不兼容，可以尝试勾选高级设置中 **使用Rotation Constraint** 选项。
- **分身模型的部分动骨（`PhysBones`）在分身静止后仍会随着本体移动而移动**：
  - 这大概是因为使用了Immobile Type为World的动骨导致，可以尝试勾选高级设置中 **更改分身模型动骨ImmobileType** 选项（可能会导致分身模型中的部分动骨异常）。
- **朋友看到的分身模型位置不统一**：
  - 同步问题，可以关闭分身再重新生成来同步位置。
- **我想一次性放出更多的分身可以吗**：
  - 可以，通过嵌套配置PhantomSystem并确保各个层级的分身中PhantomSystem的参数都被重命名可以实现类似效果。
- **分身模型上能不能装DPS/SPS**：
  - 嗯……可以。

## 📜 开源协议
本工具使用`MIT License`。详见`LICENSE`文件。
