> [!NOTE]
> この日本語版のドキュメントはAIによって翻訳されたものです。作者は日本語を解さないため、不自然な表現が含まれている可能性があります。

# VRC-PhantomSystem
[中文](https://github.com/MPCCT/VRC-PhantomSystem/blob/main/README.md)|[English](https://github.com/MPCCT/VRC-PhantomSystem/blob/main/README_EN.md)|**日本語**

PhantomSystemは、VRChatのアバターに、本体の動きに追従する分身（ファントム）モデルを簡単に追加するためのツールです。

## ✨ 特徴
- **ワンクリック設定**: 複雑な操作は不要です。モデルを準備したら、ボタン一つで自動設定が完了します。
- **多彩な分身制御**: 出現後にその場に留まらせるか、一緒に移動させるかを選択できます。もちろん、直接掴んで位置を変えることも可能です。静止オプションを使えば、いつでもその時のポーズで固定できます。
- **専用の表情メニュー**: 本体とは独立したメニューで、ファントムの衣装を着せ替えたり、ちょっとした機能を使用したりできます。
- **[Modular Avatar](https://github.com/bdunderscore/modular-avatar) 対応**: MAコンポーネントを使用したほとんどのアイテムを、ファントムアバターに自由に追加できます。
- **ファントム視界**: ファントムの視界を表示するスクリーンを開き、周囲の状況をいつでも確認できます。

## 📦 依存関係
本ツールをインポートする前に、以下の環境が正しくインストールされていることを確認してください：
1. Unity 2022.3.22f1
2. VRChat SDK (ドキュメント作成時のバージョン: 3.10.1)
3. [Modular Avatar](https://github.com/bdunderscore/modular-avatar) (ドキュメント作成時のバージョン: 1.15.1)

## 🚀 クイックスタート
1. **ベースアバター**と、**ファントムアバター**として使用するモデルを準備します（ベースと体が同じ、あるいは似ているモデルを推奨します）。
2. 上部メニューから `MPCCT -> PhantomSystemSetup` を選択します。
3. 準備したモデルを **ベースアバター** と **ファントムアバター** のスロットにドラッグ＆ドロップします。
4. **セットアップ開始！** をクリックします。

## ⚠️ 注意事項
- ファントムと本体の特定のMAコンポーネントのパラメータを同期させたくない場合は、**ファントムアバターのパラメータをリネーム** にチェックを入れてください。
- 設定後のアバター全体のパラメータ数や `PhysBones` 数などの制限を超えないよう注意してください（アップロードできなくなる可能性があります）。
- ファントムアバターには、ボーンアニメーション関連のコンポーネントや、アニメーションコントローラー内で `VRC Tracking Control` を使用しているコンポーネントを追加しないでください。
    - 例えば、[GoGoLoco](https://booth.pm/items/3290806) や [AvatarPoseLibrary](https://github.com/HhotateA/AvatarPoseLibrary) のような動作制御プラグインはサポートされていません。
- ファントムアバターを有効にすると、実質的に2体分のアバター負荷がかかります。非表示時でもFXレイヤーが通常より複雑になるため、使用にはご注意ください。

## ❓ よくある質問
- **設定済みのPhantomSystemを削除するには？**:
  - アバター内の `PhantomSystem` オブジェクトを削除してください。
- **出現時にファントムの体が歪んでしまう**:
  - ボーン構造が本体と互換性がない可能性があります。**詳細設定** の **Rotation Constraintを使用** を試してください。
- **ファントムを静止させても、一部のPhysBoneが本体と一緒に動いてしまう**:
  - Immobile Typeが World に設定されている場合に発生しやすい現象です。**詳細設定** の **PhysBoneのImmobileTypeを変更（いくつかのPhysBoneが壊れる可能性あり）** を試してください。
- **フレンドから見たファントムの位置がズレている**:
  - 同期の問題です。一度ファントムをオフにしてから出し直すと位置が同期されます。
- **一度にたくさんの分身を出したい**:
  - 可能です。PhantomSystemを入れ子状に設定し、各階層のファントムで「ファントムアバターのパラメータをリネーム」を確実に有効にすることで実現できます。
- **ファントムにDPS/SPSを付けてもいい？**:
  - ええ……大丈夫ですよ。

## 📜 ライセンス
本ツールは `MIT License` で公開されています。詳細は `LICENSE` ファイルをご確認ください。